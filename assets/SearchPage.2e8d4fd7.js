import{p as S,x as H,i as L,y as M,z as R,u as j,A as F,B as T,q as $,r as z,C as k,c as g,w as e,g as E,a as s,b as a,D as h,F as y,E as C,G as x,H as G,I as J,d as t,J as O,K as q,L as A,M as K,N as b,O as U}from"./index.cd101e71.js";import{_ as W,V as Q}from"./VTable.7d6d99be.js";import{u as X,V as Y}from"./VPagination.c252242a.js";import{V as Z,a as I}from"./VMain.beabaaf3.js";import{V as n}from"./VRow.a07312b4.js";import{V}from"./VCol.023277ab.js";const ee=S({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...H()},"v-hover"),ae=L()({name:"VHover",props:ee(),emits:{"update:modelValue":f=>!0},setup(f,v){let{slots:p}=v;const _=M(f,"modelValue"),{runOpenDelay:l,runCloseDelay:u}=R(f,o=>!f.disabled&&(_.value=o));return()=>{var o;return(o=p.default)==null?void 0:o.call(p,{isHovering:_.value,props:{onMouseenter:l,onMouseleave:u}})}}}),te=t("h1",{class:"mx-auto"},"Player list of search results ",-1),le=t("thead",null,[t("tr",null,[t("th",null,"Game mode"),t("th",null,"Rank"),t("th",null,"Rating"),t("th",null,"Wins"),t("th",null,"Losses"),t("th",null,"streak")])],-1),re=t("td",null,"1v1",-1),se=t("td",null,"team",-1),ne=t("h2",{class:"mx-auto"},"Searching",-1),fe={__name:"SearchPage",setup(f){const v=j(),p=X(),{getSearchPlayerName:_}=F(v),l=T({data:null,error:null}),u=E(),o=6,w=$(()=>l.data?Math.ceil(l.data.leaderboard.length/o):0),d=z(1);k(d,()=>window.scrollTo(0,0)),_.value||u.push("/");const D=function(i,c){p.$patch({profileId:i,profile:c}),u.push({name:"profilepage",params:{profileId:i}})};return k(_,async i=>{l.data=null,l.error=null,d.value=1;const c=await O(U.searchProfilesByPlayerName,{playerName:i}),{data:r,error:P}=c;r&&(l.data=r),P&&(l.error=P,u.push("/error")),l.data&&l.data.leaderboard.length===0&&u.push({name:"playerNotFoundPage"})},{immediate:!0}),k(l,async i=>{}),(i,c)=>(s(),g(Z,null,{default:e(()=>[a(I,null,{default:e(()=>[l.data?(s(),h(y,{key:0},[a(n,{class:"my-7"},{default:e(()=>[te]),_:1}),(s(!0),h(y,null,C(l.data.leaderboard.slice(o*(d.value-1),o*d.value),(r,P)=>(s(),g(n,{key:r.profile_id},{default:e(()=>[a(ae,null,{default:e(({isHovering:N,props:B})=>[a(q,A({border:"",ripple:"",width:"100%",height:"200px"},B,{color:N?"grey-darken-3":"undefined",style:{cursor:"pointer"},onClick:m=>D(r.profile_id,r)}),{default:e(()=>[a(K,null,{default:e(()=>[a(n,{align:"center"},{default:e(()=>[a(V,{cols:"2"},{default:e(()=>[a(n,{justify:"center",class:"mb-5"},{default:e(()=>[a(W,{steamId:r.steam_id,size:"100px"},null,8,["steamId"])]),_:2},1024),a(n,{justify:"center"},{default:e(()=>[t("p",null,b(r.name),1)]),_:2},1024)]),_:2},1024),a(V,{cols:"10"},{default:e(()=>[a(Q,{style:{"background-color":"transparent"}},{default:e(()=>[le,t("tbody",null,[t("tr",null,[re,(s(),h(y,null,C(["rank","rating","wins","losses","streak"],m=>t("td",null,b(r["1v1"][m]?r["1v1"][m]:"--"),1)),64))]),t("tr",null,[se,(s(),h(y,null,C(["rank","rating","wins","losses","streak"],m=>t("td",null,b(r.team[m]?r.team[m]:"--"),1)),64))])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1040,["color","onClick"])]),_:2},1024)]),_:2},1024))),128)),x(w)>1?(s(),g(n,{key:0,justify:"center"},{default:e(()=>[a(V,{cols:"5"},{default:e(()=>[a(Y,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=r=>d.value=r),length:x(w),rounded:"circle"},null,8,["modelValue","length"])]),_:1})]),_:1})):G("",!0)],64)):l.error?(s(),h(y,{key:1},[],64)):(s(),g(n,{key:2,style:{height:"50vh"},align:"end",justify:"center"},{default:e(()=>[a(V,{cols:"5"},{default:e(()=>[a(n,{class:"my-6"},{default:e(()=>[ne]),_:1}),a(n,null,{default:e(()=>[a(J,{color:"deep-purple-accent-4",indeterminate:"",rounded:"",height:"6"})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1}))}};export{fe as default};
